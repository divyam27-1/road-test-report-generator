<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Layer Build Report Generator: Save to JSON functions</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Layer Build Report Generator<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">This is an app which can automate generation of reports for WMM and DBM road bitumen quality tests.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pri-slot-members">Private Slots</a>  </div>
  <div class="headertitle"><div class="title">Save to JSON functions</div></div>
</div><!--header-->
<div class="contents">

<p>These functions handle 'Save' requests for different tabs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-slot-members" name="pri-slot-members"></a>
Private Slots</h2></td></tr>
<tr class="memitem:ga2c0b4749e87a080a5bb6026dd23a102f" id="r_ga2c0b4749e87a080a5bb6026dd23a102f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2c0b4749e87a080a5bb6026dd23a102f">MainWindow::on_actionSave_Project_triggered</a> ()</td></tr>
<tr class="memdesc:ga2c0b4749e87a080a5bb6026dd23a102f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the "Save Project" action.  <br /></td></tr>
<tr class="separator:ga2c0b4749e87a080a5bb6026dd23a102f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ee5b6bb16d84412db015c888df42a7c" id="r_ga4ee5b6bb16d84412db015c888df42a7c"><td class="memItemLeft" align="right" valign="top"><a id="ga4ee5b6bb16d84412db015c888df42a7c" name="ga4ee5b6bb16d84412db015c888df42a7c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>MainWindow::on_spc_save_clicked</b> ()</td></tr>
<tr class="memdesc:ga4ee5b6bb16d84412db015c888df42a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes the subfunctions to save the <code>specific_gravity</code> experiment data. <br /></td></tr>
<tr class="separator:ga4ee5b6bb16d84412db015c888df42a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff43f5c9cc81e4a5cd72972f8367ac8a" id="r_gaff43f5c9cc81e4a5cd72972f8367ac8a"><td class="memItemLeft" align="right" valign="top"><a id="gaff43f5c9cc81e4a5cd72972f8367ac8a" name="gaff43f5c9cc81e4a5cd72972f8367ac8a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>MainWindow::on_fei_save_clicked</b> ()</td></tr>
<tr class="memdesc:gaff43f5c9cc81e4a5cd72972f8367ac8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes the subfunctions to save the Flakiness and Elongation Indices experiment. <br /></td></tr>
<tr class="separator:gaff43f5c9cc81e4a5cd72972f8367ac8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ecc054b847ca8cb6e3ddcdcb6b67b86" id="r_ga4ecc054b847ca8cb6e3ddcdcb6b67b86"><td class="memItemLeft" align="right" valign="top"><a id="ga4ecc054b847ca8cb6e3ddcdcb6b67b86" name="ga4ecc054b847ca8cb6e3ddcdcb6b67b86"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>MainWindow::on_aiv_save_clicked</b> ()</td></tr>
<tr class="memdesc:ga4ecc054b847ca8cb6e3ddcdcb6b67b86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes the subfunctions to save the Aggregate Impact Values experiment. <br /></td></tr>
<tr class="separator:ga4ecc054b847ca8cb6e3ddcdcb6b67b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga354e1cd42e3f29e1c2e760d979b1e418" id="r_ga354e1cd42e3f29e1c2e760d979b1e418"><td class="memItemLeft" align="right" valign="top"><a id="ga354e1cd42e3f29e1c2e760d979b1e418" name="ga354e1cd42e3f29e1c2e760d979b1e418"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>MainWindow::on_ind_save_clicked</b> ()</td></tr>
<tr class="memdesc:ga354e1cd42e3f29e1c2e760d979b1e418"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes the subfunctions to save the Individual Gradation experiment. Then invokes the function that updates the graph of the Individual Gradation experiment. <br /></td></tr>
<tr class="separator:ga354e1cd42e3f29e1c2e760d979b1e418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f80b73959e6e91e0c53b4565d44875a" id="r_ga1f80b73959e6e91e0c53b4565d44875a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f80b73959e6e91e0c53b4565d44875a">MainWindow::on_mdd_save_clicked</a> ()</td></tr>
<tr class="memdesc:ga1f80b73959e6e91e0c53b4565d44875a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the 'Save' button click event for the MDD experiment.  <br /></td></tr>
<tr class="separator:ga1f80b73959e6e91e0c53b4565d44875a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09f58e87586ddd92584ac8bb3811d2ba" id="r_ga09f58e87586ddd92584ac8bb3811d2ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga09f58e87586ddd92584ac8bb3811d2ba">MainWindow::on_grad_save_clicked</a> ()</td></tr>
<tr class="memdesc:ga09f58e87586ddd92584ac8bb3811d2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the 'Save' button click event in the <a class="el" href="../../d9/dc6/class_main_window.html">MainWindow</a> for the gradation experiment.  <br /></td></tr>
<tr class="separator:ga09f58e87586ddd92584ac8bb3811d2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2d4e56a9926957a345f837e41aaf91d" id="r_gab2d4e56a9926957a345f837e41aaf91d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab2d4e56a9926957a345f837e41aaf91d">MainWindow::on_tensile_save_clicked</a> ()</td></tr>
<tr class="memdesc:gab2d4e56a9926957a345f837e41aaf91d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the 'Save' button click event in the <a class="el" href="../../d9/dc6/class_main_window.html">MainWindow</a> for the tensile experiment.  <br /></td></tr>
<tr class="separator:gab2d4e56a9926957a345f837e41aaf91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga782f40a0ce942404858cd5106821da09" id="r_ga782f40a0ce942404858cd5106821da09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga782f40a0ce942404858cd5106821da09">MainWindow::on_marshall_save_clicked</a> ()</td></tr>
<tr class="memdesc:ga782f40a0ce942404858cd5106821da09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves data related to Marshall experiments into a JSON file.  <br /></td></tr>
<tr class="separator:ga782f40a0ce942404858cd5106821da09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a258989e359cf14177176af1f5c3f2d" id="r_ga4a258989e359cf14177176af1f5c3f2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4a258989e359cf14177176af1f5c3f2d">MainWindow::on_vol_save_clicked</a> ()</td></tr>
<tr class="memdesc:ga4a258989e359cf14177176af1f5c3f2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves data related to Volumetric Analysis experiments into a JSON file.  <br /></td></tr>
<tr class="separator:ga4a258989e359cf14177176af1f5c3f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a478e88fe9b220c31f6b7f4f822245f" id="r_ga9a478e88fe9b220c31f6b7f4f822245f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9a478e88fe9b220c31f6b7f4f822245f">MainWindow::on_gmm_save_clicked</a> ()</td></tr>
<tr class="memdesc:ga9a478e88fe9b220c31f6b7f4f822245f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves data related to Gyratory Marshall Mix tests into a JSON file.  <br /></td></tr>
<tr class="separator:ga9a478e88fe9b220c31f6b7f4f822245f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86aa219024b35be8edae717dd25fc18b" id="r_ga86aa219024b35be8edae717dd25fc18b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga86aa219024b35be8edae717dd25fc18b">MainWindow::on_rheology_save_clicked</a> ()</td></tr>
<tr class="memdesc:ga86aa219024b35be8edae717dd25fc18b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is triggered when the 'Save' button in the Rheology tab is clicked.  <br /></td></tr>
<tr class="separator:ga86aa219024b35be8edae717dd25fc18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e4f163ea50417ef6704f568d1967e62" id="r_ga0e4f163ea50417ef6704f568d1967e62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0e4f163ea50417ef6704f568d1967e62">MainWindow::on_wa_save_clicked</a> ()</td></tr>
<tr class="memdesc:ga0e4f163ea50417ef6704f568d1967e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves data related to Water Absorption into a JSON file.  <br /></td></tr>
<tr class="separator:ga0e4f163ea50417ef6704f568d1967e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions handle 'Save' requests for different tabs. </p>
<p>All the save functions and subfunctions have a similar general algorithm. 1) First, the experiment to be saved is added into <code>tracked_files</code>, which is the app system's internal tracking system of which files are already saved and which ones arent. 2) Then a transform is applied on the <code>tracked_files</code> variable called <code>removeDuplicates</code> which orders the file system according to the desired order in which they appear in the report. 3) Then the UI element data is extracted and loaded into an intermediate data structure. In earlier stages of development this was done manually however in the later stages it was done recursively or iteratively. In the even later stages we discovered a more streamlined method of saving files so saving was done with a mixture of direct saving to QJsonObject data structures instead of intermediate data structures, and other subfunctions. 4) The intermediate data structure is formatted and dumped into a QJsonObject. In later stages of developement we directly started dumping values into QJsonObject as it was more streamlined, easier to read and resulted in lower memory consumption and faster developement times. 5) The QJsonObjects are formatted into a saveable QFile document and then passed into the Qt File System to save into the hard drive. This is OS indpedpendant. 6) The <code>save_check</code> function is called at the end of every save operation. The <code>save_check</code> function is more detailed explained on its own page, however its basic working is as follows: It marks every item in the <code>tracked_files</code> tracker as saved and updates the visual display of the UI to relfect those changes. Once the changes have been identified, it calls upon the HTML Generator functions to generate the HTML Report for the saved documents.</p>
<p>This group contains the top level functions that save experiments to JSON and are triggered by clicking the Save button on the top of the screen. Here is the list of functions currently in this group:</p><ul>
<li><code>spc</code>: Specific Gravity. This function calls 4 minor sub functions that facilitate the save operation</li>
<li><code>fei</code>: Flakiness and Elongation Indices. This function calls the 2 subfunctions that facilitate the save operation</li>
<li><code>aiv</code>: Aggregate Impact Value. This function calls the subfunctions that facilitate the save operation</li>
<li><code>ind</code>: Individual Gradation. This function calls the subfunctions that facilitate the save operation. Then it updates and saves the graph of Individual Gradation</li>
<li><code>mdd</code>: Saves the values of MDD by loading them into a data structure then sorting the data structure into a JSON file. From this point onwards we started relying less on subfunctions and more on manual saving inside the top level function itself because of modularity and reusability of code, also to shorten developer times. The following save operators all use the same logic and thus will not be elaborated.</li>
<li><code>grad</code>: DBM Gradation</li>
<li><code>tensile</code>: Tensile Strength Ratio</li>
<li><code>marshall</code>: Marshall Test</li>
<li><code>vol</code>: Volumetric Analysis</li>
<li><code>gmm</code>: Maximum Gravity of Paving Mixture</li>
<li><code>rheology</code>: This is not a major experiment. In the spreadsheet shared by Ehtesham there were many minor single calculation worth experiments which could be condensed into a single bracket. So I have made a class <code>rheology</code> to store all the small scale experiments relating to the physical and chemical characteristics of bitumen.</li>
<li><code>wa</code>: Water Adsorption </li>
</ul>
<h2 class="groupheader">Private Slots</h2>
<a id="ga2c0b4749e87a080a5bb6026dd23a102f" name="ga2c0b4749e87a080a5bb6026dd23a102f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c0b4749e87a080a5bb6026dd23a102f">&#9670;&#160;</a></span>on_actionSave_Project_triggered</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_actionSave_Project_triggered </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the "Save Project" action. </p>
<p>This function is triggered when the "Save Project" action is activated. It iterates over all experiment types and simulates a click on the save button for each experiment.</p>
<p>For each experiment type, it simulates a click on their save button, triggering the save operation for that experiment. If the button is not found, it logs an error message. Please note the internal workings of the save buttons are not uniform as they were made by different developers in different phases of understanding of programming. </p>

</div>
</div>
<a id="ga9a478e88fe9b220c31f6b7f4f822245f" name="ga9a478e88fe9b220c31f6b7f4f822245f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a478e88fe9b220c31f6b7f4f822245f">&#9670;&#160;</a></span>on_gmm_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_gmm_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves data related to Gyratory Marshall Mix tests into a JSON file. </p>
<p>This function saves experiment data related to Gyratory Marshall Mix (GMM) tests into a JSON file. It retrieves data from various QLineEdit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of three levels representing different Bitumen content percentages (4.00%, 4.25%, and 4.50%).</p>
<p>The JSON file structure:</p><ul>
<li>For each Bitumen content percentage, there are 5 experiments. Each bitumen content percentage is stored in a top level JSON object corresponding to the percentage of Bitumen {'4.00', '4.25', '4.50'} etc.</li>
<li>Inside each experiment, 2 samples are taken<ul>
<li>Each experiment contains the following variables:<ul>
<li><code>gmm_&lt;j&gt;_&lt;k&gt;</code> stores the experiment data, where <code>&lt;j&gt;</code> represents the sample number per Bitumen content percentage and <code>&lt;k&gt;</code> represents the experiment index.</li>
<li><code>avg</code> stores the average value of <code>gmm_5_1</code> and <code>gmm_5_2</code></li>
</ul>
</li>
<li>The <code>&lt;j&gt;</code> index varies from 1 to 5, representing the five different experimentally obtained values</li>
<li>The <code>&lt;k&gt;</code> index varies from 1 to 2, representing the two samples of each experimentally obtained value</li>
</ul>
</li>
</ul>
<p>Data Retrieval and Processing:</p><ul>
<li>QLineEdit objects containing experiment data are retrieved from the UI.</li>
<li>Data is processed and structured into appropriate JSON objects.</li>
<li>Calculations are performed to calculate the average value for each Bitumen content percentage.</li>
<li>Error handling is implemented for missing QLineEdit objects.</li>
</ul>
<p>Saving to JSON:</p><ul>
<li>The constructed JSON objects are written to a JSON file named "gmm.json" in the "json" directory.</li>
<li>The JSON file is formatted using QTextStream and QJsonDocument.</li>
<li>Error handling is implemented for file opening failures.</li>
</ul>
<p>External Functions:</p><ul>
<li><a class="el" href="../../d8/dd9/mainwindow_8cpp.html#ae80b5647a938df7b20eab36fff293d39" title="Removes duplicates from a vector and sorts it based on a reference vector.">removeDuplicates()</a>: Removes duplicate entries from a QStringList.</li>
<li><a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a>: Performs checks and actions related to saving operations.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/dd9/mainwindow_8cpp.html#ae80b5647a938df7b20eab36fff293d39" title="Removes duplicates from a vector and sorts it based on a reference vector.">removeDuplicates()</a>, <a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a> </dd></dl>

</div>
</div>
<a id="ga09f58e87586ddd92584ac8bb3811d2ba" name="ga09f58e87586ddd92584ac8bb3811d2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09f58e87586ddd92584ac8bb3811d2ba">&#9670;&#160;</a></span>on_grad_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_grad_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the 'Save' button click event in the <a class="el" href="../../d9/dc6/class_main_window.html">MainWindow</a> for the gradation experiment. </p>
<p>This function is triggered when the 'Save' button is clicked in the <a class="el" href="../../d9/dc6/class_main_window.html">MainWindow</a> for the gradation experiment. It performs several operations to save the data related to the 'grad' experiment into a JSON file.</p>
<p>1) It adds "grad" to the <code>tracked_files</code> vector and removes any duplicates.</p>
<p>2) It calls the <code>updateGraph_grad()</code> function to update the gradation graph.</p>
<p>3) It creates a QJsonObject <code>grad_json</code> to store the gradation data.</p>
<p>4) It loops over different types of experiments (21mm, 16mm, 4mm), and for each experiment, it loops over different sieve values and samples of a sieve value. For each sample, it reads the value from the corresponding QLineEdit, calculates the average and the proportion of the average for the final mix, and stores them in <code>grad_json</code>.</p>
<p>5) It calculates the weighted average of the sample averages across different experiments to blend them and stores them in <code>grad_json</code>.</p>
<p>6) It saves the sieve sizes in <code>grad_json</code>.</p>
<p>7) It opens the <code>grad.json</code> file in the <code>json</code> directory and writes the <code>grad_json</code> QJsonObject into it in JSON format.</p>
<p>8) If the file cannot be opened, it shows a message box with an error message.</p>
<p>9) Finally, it calls the <code><a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a></code> function and toggles the <code>TFF</code> flag.</p>
<p>The structure of the saved JSON file is as follows:</p><ul>
<li>For each type of experiment (25-16mm, 16-4.75mm, below_4.75mm), it contains:<ul>
<li><code>proportion</code>: The proportion of this experiment in the dbm mixture</li>
<li>For each sieve value (from 1 to 8), it contains:<ul>
<li><code>grad_pij_k</code>: The sample data</li>
<li><code>avg_j</code>: The average of the sample data</li>
<li><code>prop_avg_j</code>: The proportion of the average for the final mix</li>
</ul>
</li>
<li>Here is the explanation of i, j and k:<ul>
<li><code>i</code> here refers to size of the gradation dust. It is 1 for 25mm, 2 for 16mm, 3 for 4.75mm etc.</li>
<li><code>j</code> here refers to the seive size. It varies from 1 - 8 as the seive size decreases exponentially.</li>
<li><code>k</code> here refers to the individual sample. 5 samples contribute to the average value <code>avg_j</code>, so the <code>k</code> variable varies from 1 - 5</li>
</ul>
</li>
</ul>
</li>
<li><code>blending</code>: The weighted average of the sample averages across different experiments. Contains <code>bld_j</code> keys varying from 1 - 8 with the blended values of each seive width.</li>
<li><code>seive_sizes</code>: The sieve sizes. <code>is_seive_j</code> varying from 1 - 8. </li>
</ul>

</div>
</div>
<a id="ga782f40a0ce942404858cd5106821da09" name="ga782f40a0ce942404858cd5106821da09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga782f40a0ce942404858cd5106821da09">&#9670;&#160;</a></span>on_marshall_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_marshall_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves data related to Marshall experiments into a JSON file. </p>
<p>This function saves experiment data related to Marshall tests into a JSON file. It retrieves data from various QLineEdit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of five levels (level_1 to level_5), each containing experiment data for a specific set of tests.</p>
<p>The JSON file structure:</p><ul>
<li>'level_1' to 'level_5': These are the top level JSON Objects. The Marshall Test is iterated 5 times with different Bitumen content age, the 5 levels manifest that</li>
<li>Inside each level, there are many variables:<ul>
<li><code>marshall_i_00</code> stores the level of Bitumen content age of the test</li>
<li>The user input values are saved in the format <code>marshall_i_jk</code></li>
<li>The calculated values are saved in the format <code>marshall_&lt;exp_name&gt;_i_j</code></li>
<li><code>avg_flow</code>, <code>avg_gmb</code>, <code>avg_stability</code> list out the averages of the specified attribute across the 3 samples per level</li>
<li><code>i</code>, <code>j</code>, <code>k</code>, &lt;exp_name&gt; in the preceeding variable names mean the following thing:<ul>
<li><code>i</code>: The index of level of Bitumen content age. Varies from 1 to 5, it is the same as the top level 'level_i' (so only one i per top level object)</li>
<li><code>j</code>: The index of the sample per level. In each level, 3 sample experiments are done and the results are averaged out among them to get the final value of an attribute of a level. Varies from 1 to 3</li>
<li><code>k</code>: The index of the experiment itself (for user input attributes only) <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">k   </th><th class="markdownTableHeadNone">Name of Attribute    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Weight in Air    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">SSD Weight in Water    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">Bulk Density (it is also reffered to as GMB in parts of the code and documentation)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">Reading    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">Volume Correction Factor    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">Flow Rate   </td></tr>
</table>
</li>
<li>&lt;exp_name&gt;: One of <code>vol</code>, <code>wt_water</code>, <code>load</code>, <code>corrected_load</code>. These names are pretty self explanatory.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Data Retrieval and Processing:</p><ul>
<li>QLineEdit objects containing experiment data are retrieved from the UI.</li>
<li>Data is processed and structured into appropriate JSON objects.</li>
<li>Calculations are performed, including averaging and stability calculations.</li>
<li>Error handling is implemented for missing QLineEdit objects.</li>
</ul>
<p>Saving to JSON:</p><ul>
<li>The constructed JSON objects are written to a JSON file named "marshall.json" in the "json" directory.</li>
<li>The JSON file is formatted using QTextStream and QJsonDocument.</li>
<li>Error handling is implemented for file opening failures.</li>
</ul>
<p>External Functions:</p><ul>
<li>updateGraph_dbm(): Updates the graph in the UI with the latest data.</li>
<li><a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a>: Performs checks and actions related to saving operations.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd>updateGraph_dbm(), <a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a> </dd></dl>

</div>
</div>
<a id="ga1f80b73959e6e91e0c53b4565d44875a" name="ga1f80b73959e6e91e0c53b4565d44875a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f80b73959e6e91e0c53b4565d44875a">&#9670;&#160;</a></span>on_mdd_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_mdd_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the 'Save' button click event for the MDD experiment. </p>
<p>This function is triggered when the 'Save' button is clicked in the MDD experiment window. It performs several operations to save the data related to the 'mdd' experiment into a JSON file.</p>
<p>1) It adds "mdd" to the <code>tracked_files</code> vector and removes any duplicates.</p>
<p>2) It reads the text from various UI elements, converts them to float, and stores them in a 2D array <code>mdd_ds</code>.</p>
<p>3) It calculates the wet density, weight of water, weight of dry sample, water content, and dry density for each set of data and stores them in a QJsonObject <code>mdd</code>.</p>
<p>4) It opens the <code>mdd.json</code> file in the <code>json</code> directory and writes the <code>mdd</code> QJsonObject into it in JSON format.</p>
<p>5) If the file cannot be opened, it logs a debug message.</p>
<p>6) Finally, it calls the <code><a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a></code> function.</p>
<p>The structure of the saved JSON file is as follows:</p><ul>
<li>For each set of data (from 0 to 4), it contains:<ul>
<li><code>wsm#</code>: Weight of soil mass</li>
<li><code>ws#</code>: Weight of soil</li>
<li><code>tray#</code>: Weight of tray</li>
<li><code>wt_tray#</code>: Weight of wet tray</li>
<li><code>wst#</code>: Weight of soil tray</li>
<li><code>wdst#</code>: Weight of dry soil tray</li>
<li><code>wds#</code>: Wet density of soil</li>
<li><code>ww#</code>: Weight of water</li>
<li><code>wdsm#</code>: Weight of dry soil mass</li>
<li><code>water_content#</code>: Water content</li>
<li><code>density#</code>: Dry density</li>
</ul>
</li>
<li>It also contains <code>mass</code> and <code>vol</code> which represent the mass and volume respectively.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The '#' in the keys represents the index of the set of data (from 0 to 4). </dd></dl>

</div>
</div>
<a id="ga86aa219024b35be8edae717dd25fc18b" name="ga86aa219024b35be8edae717dd25fc18b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86aa219024b35be8edae717dd25fc18b">&#9670;&#160;</a></span>on_rheology_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_rheology_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is triggered when the 'Save' button in the Rheology tab is clicked. </p>
<p>It saves the current state of the Rheology tab into a JSON file. The function iterates over different experiment names and for each experiment, it retrieves the corresponding values from the UI, checks their validity, and stores them into a JSON object. The JSON object is then saved into a file named "rheology.json" in the "json" directory.</p>
<dl class="section note"><dt>Note</dt><dd>The function uses several helper functions (<code>strip_eval</code>, <code>soft_eval</code>, <code>pen_eval</code>, <code>ductility_eval</code>, <code>flash_eval</code>, <code>viscosity_eval</code>, <code>spc_eval</code>) to evaluate the JSON object for each experiment. </dd></dl>

</div>
</div>
<a id="gab2d4e56a9926957a345f837e41aaf91d" name="gab2d4e56a9926957a345f837e41aaf91d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2d4e56a9926957a345f837e41aaf91d">&#9670;&#160;</a></span>on_tensile_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_tensile_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the 'Save' button click event in the <a class="el" href="../../d9/dc6/class_main_window.html">MainWindow</a> for the tensile experiment. </p>
<p>This function is triggered when the 'Save' button is clicked in the <a class="el" href="../../d9/dc6/class_main_window.html">MainWindow</a> for the tensile experiment. It performs several operations to save the data related to the 'tensile' experiment into a JSON file.</p>
<p>1) It adds "tensile" to the <code>tracked_files</code> vector and removes any duplicates.</p>
<p>2) It creates QJsonObjects <code>tensile_json</code>, <code>min_30</code>, and <code>hr_24</code> to store the tensile data.</p>
<p>3) It reads the values from various UI elements and stores them in <code>min_30</code> and <code>hr_24</code>.</p>
<p>4) It loops over different types of experiments and for each experiment, it reads the value from the corresponding QLineEdit and stores it in <code>min_30</code> or <code>hr_24</code>.</p>
<p>5) It calculates the volume, weight in air, load, corrected load, and averages for each experiment and stores them in <code>min_30</code> or <code>hr_24</code>.</p>
<p>6) It calculates the water sensitivity and stores it in <code>tensile_json</code>.</p>
<p>7) It adds <code>min_30</code>, <code>hr_24</code>, and the ring value to <code>tensile_json</code>.</p>
<p>8) It opens the <code>tensile.json</code> file in the <code>json</code> directory and writes the <code>tensile_json</code> QJsonObject into it in JSON format.</p>
<p>9) If the file cannot be opened, it logs a debug message.</p>
<p>10) Finally, it calls the <code><a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a></code> function.</p>
<p>The structure of the saved JSON file is as follows:</p><ul>
<li><code>30mins</code> and <code>24hrs</code>: These are QJsonObjects that contain the tensile data for the 30 minutes and 24 hours experiments respectively. For each experiment, they contain:<ul>
<li><code>tensile_btmn</code>: The bottom value</li>
<li><code>tensile_wt_i_j</code>, <code>tensile_ssd_i_j</code>, <code>tensile_gmb_i_j</code>, <code>tensile_read_i_j</code>, <code>tensile_corr_i_j</code>, <code>tensile_flow_i_j</code>: The sample data</li>
<li><code>tensile_wt_i_j_vol</code>: The volume</li>
<li><code>tensile_ssd_wt_diff_i_j</code>: The weight in air</li>
<li><code>tensile_read_i_j_load</code>: The load</li>
<li><code>tensile_corrected_load_i_j</code>: The corrected load</li>
<li><code>avg_gmb</code>, <code>avg_corrected_load</code>, <code>avg_flow</code>: The averages Here is what <code>i</code> and <code>j</code> mean:</li>
<li><code>i</code> refers to the experiment Time Period, it is 1 for 30 Minute experiment and 2 for 24 Hour experiment</li>
<li><code>j</code> refers to the sample number. It varies from 1 to 3.</li>
</ul>
</li>
<li><code>ring</code>: The ring value</li>
<li><code>water_sensitivity</code>: The water sensitivity</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Please refer to the excel sheet provided by Ehtesham for more reference behind the meaning of these variables. </dd></dl>

</div>
</div>
<a id="ga4a258989e359cf14177176af1f5c3f2d" name="ga4a258989e359cf14177176af1f5c3f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a258989e359cf14177176af1f5c3f2d">&#9670;&#160;</a></span>on_vol_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_vol_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves data related to Volumetric Analysis experiments into a JSON file. </p>
<p>This function saves experiment data related to Volumetric Analysis tests into a JSON file. It retrieves data from various QLineEdit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of two main sections: 'spg' and 'composition'.</p>
<p>The JSON file structure:</p><ul>
<li>'spg': This section contains specific gravity data. It includes:<ul>
<li><code>vol_apparent_#</code>, <code>vol_bulk_#</code>, <code>vol_total_#</code>, <code>vol_btmn_#</code>: The sample data</li>
<li><code>vol_eff_#</code>: The effective volume</li>
</ul>
</li>
<li>'composition': This section contains the composition data. It includes:<ul>
<li><code>vol_p#_#</code>, <code>vol_pb_#</code>, <code>vol_gsb_#</code>, <code>vol_gmm_#</code>, <code>vol_gmb_#</code>: The sample data</li>
<li><code>vol_ps_#</code>, <code>vol_vma_#</code>, <code>vol_va_#</code>, <code>vol_vfb_#</code>: The calculated values</li>
</ul>
</li>
</ul>
<p>In the above keys:</p><ul>
<li><code>#</code> represents the index of the experiment or the sample. It varies from 1 - 5. It is also stand to 'obc' for values in the Optimum Binder Concentration.</li>
</ul>
<p>Data Retrieval and Processing:</p><ul>
<li>QLineEdit objects containing experiment data are retrieved from the UI.</li>
<li>Data is processed and structured into appropriate JSON objects.</li>
<li>Calculations are performed, including averaging and stability calculations.</li>
<li>Error handling is implemented for missing QLineEdit objects.</li>
</ul>
<p>Saving to JSON:</p><ul>
<li>The constructed JSON objects are written to a JSON file named "vol.json" in the "json" directory.</li>
<li>The JSON file is formatted using QTextStream and QJsonDocument.</li>
<li>Error handling is implemented for file opening failures.</li>
</ul>
<p>External Functions:</p><ul>
<li>updateGraph_dbm(): Updates the graph in the UI with the latest data.</li>
<li><a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a>: Performs checks and actions related to saving operations.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd>updateGraph_dbm(), <a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a> </dd></dl>

</div>
</div>
<a id="ga0e4f163ea50417ef6704f568d1967e62" name="ga0e4f163ea50417ef6704f568d1967e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e4f163ea50417ef6704f568d1967e62">&#9670;&#160;</a></span>on_wa_save_clicked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::on_wa_save_clicked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves data related to Water Absorption into a JSON file. </p>
<p>This function saves experiment data related to water absorption tests into a JSON file. It retrieves data from various QLineEdit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of four sections representing different aspects of water absorption tests: 10-minute water absorption, 20-minute water absorption, dust absorption, and cleanliness.</p>
<p>Data Retrieval and Processing:</p><ul>
<li>Experiment data is retrieved from the UI based on specified naming conventions.</li>
<li>Calculations are performed to derive additional parameters based on the collected data.</li>
<li>The retrieved and calculated data is structured into JSON objects for each aspect of the water absorption tests.</li>
</ul>
<p>JSON Object Structure:</p><ul>
<li>TODO</li>
</ul>
<p>External Functions:</p><ul>
<li><a class="el" href="../../d8/dd9/mainwindow_8cpp.html#ae80b5647a938df7b20eab36fff293d39" title="Removes duplicates from a vector and sorts it based on a reference vector.">removeDuplicates()</a>: Removes duplicate entries from a QStringList.</li>
<li><a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a>: Performs checks and actions related to saving operations.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/dd9/mainwindow_8cpp.html#ae80b5647a938df7b20eab36fff293d39" title="Removes duplicates from a vector and sorts it based on a reference vector.">removeDuplicates()</a>, <a class="el" href="../../d4/d8a/group___misc_funcs.html#ga741bd3faf7631fbd0219896c2c7a5252" title="Checks the save status of all experiments and generates the corresponding HTML files.">save_check()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>

\doxysection{Save to JSON functions}
\hypertarget{group___save_functions}{}\label{group___save_functions}\index{Save to JSON functions@{Save to JSON functions}}


These functions handle \textquotesingle{}Save\textquotesingle{} requests for different tabs.  


\doxysubsubsection*{Private Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___save_functions_ga2c0b4749e87a080a5bb6026dd23a102f}{Main\+Window\+::on\+\_\+action\+Save\+\_\+\+Project\+\_\+triggered}} ()
\begin{DoxyCompactList}\small\item\em Handles the "{}\+Save Project"{} action. \end{DoxyCompactList}\item 
\Hypertarget{group___save_functions_ga4ee5b6bb16d84412db015c888df42a7c}\label{group___save_functions_ga4ee5b6bb16d84412db015c888df42a7c} 
void {\bfseries Main\+Window\+::on\+\_\+spc\+\_\+save\+\_\+clicked} ()
\begin{DoxyCompactList}\small\item\em Invokes the subfunctions to save the {\ttfamily specific\+\_\+gravity} experiment data. \end{DoxyCompactList}\item 
\Hypertarget{group___save_functions_gaff43f5c9cc81e4a5cd72972f8367ac8a}\label{group___save_functions_gaff43f5c9cc81e4a5cd72972f8367ac8a} 
void {\bfseries Main\+Window\+::on\+\_\+fei\+\_\+save\+\_\+clicked} ()
\begin{DoxyCompactList}\small\item\em Invokes the subfunctions to save the Flakiness and Elongation Indices experiment. \end{DoxyCompactList}\item 
\Hypertarget{group___save_functions_ga4ecc054b847ca8cb6e3ddcdcb6b67b86}\label{group___save_functions_ga4ecc054b847ca8cb6e3ddcdcb6b67b86} 
void {\bfseries Main\+Window\+::on\+\_\+aiv\+\_\+save\+\_\+clicked} ()
\begin{DoxyCompactList}\small\item\em Invokes the subfunctions to save the Aggregate Impact Values experiment. \end{DoxyCompactList}\item 
\Hypertarget{group___save_functions_ga354e1cd42e3f29e1c2e760d979b1e418}\label{group___save_functions_ga354e1cd42e3f29e1c2e760d979b1e418} 
void {\bfseries Main\+Window\+::on\+\_\+ind\+\_\+save\+\_\+clicked} ()
\begin{DoxyCompactList}\small\item\em Invokes the subfunctions to save the Individual Gradation experiment. Then invokes the function that updates the graph of the Individual Gradation experiment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_ga1f80b73959e6e91e0c53b4565d44875a}{Main\+Window\+::on\+\_\+mdd\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Handles the \textquotesingle{}Save\textquotesingle{} button click event for the MDD experiment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_ga09f58e87586ddd92584ac8bb3811d2ba}{Main\+Window\+::on\+\_\+grad\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Handles the \textquotesingle{}Save\textquotesingle{} button click event in the \doxylink{class_main_window}{Main\+Window} for the gradation experiment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_gab2d4e56a9926957a345f837e41aaf91d}{Main\+Window\+::on\+\_\+tensile\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Handles the \textquotesingle{}Save\textquotesingle{} button click event in the \doxylink{class_main_window}{Main\+Window} for the tensile experiment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_ga782f40a0ce942404858cd5106821da09}{Main\+Window\+::on\+\_\+marshall\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Saves data related to Marshall experiments into a JSON file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_ga4a258989e359cf14177176af1f5c3f2d}{Main\+Window\+::on\+\_\+vol\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Saves data related to Volumetric Analysis experiments into a JSON file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_ga9a478e88fe9b220c31f6b7f4f822245f}{Main\+Window\+::on\+\_\+gmm\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Saves data related to Gyratory Marshall Mix tests into a JSON file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_ga86aa219024b35be8edae717dd25fc18b}{Main\+Window\+::on\+\_\+rheology\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em This function is triggered when the \textquotesingle{}Save\textquotesingle{} button in the Rheology tab is clicked. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___save_functions_ga0e4f163ea50417ef6704f568d1967e62}{Main\+Window\+::on\+\_\+wa\+\_\+save\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Saves data related to Water Absorption into a JSON file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
These functions handle \textquotesingle{}Save\textquotesingle{} requests for different tabs. 

All the save functions and subfunctions have a similar general algorithm. 1) First, the experiment to be saved is added into {\ttfamily tracked\+\_\+files}, which is the app system\textquotesingle{}s internal tracking system of which files are already saved and which ones arent. 2) Then a transform is applied on the {\ttfamily tracked\+\_\+files} variable called {\ttfamily remove\+Duplicates} which orders the file system according to the desired order in which they appear in the report. 3) Then the UI element data is extracted and loaded into an intermediate data structure. In earlier stages of development this was done manually however in the later stages it was done recursively or iteratively. In the even later stages we discovered a more streamlined method of saving files so saving was done with a mixture of direct saving to QJson\+Object data structures instead of intermediate data structures, and other subfunctions. 4) The intermediate data structure is formatted and dumped into a QJson\+Object. In later stages of developement we directly started dumping values into QJson\+Object as it was more streamlined, easier to read and resulted in lower memory consumption and faster developement times. 5) The QJson\+Objects are formatted into a saveable QFile document and then passed into the Qt File System to save into the hard drive. This is OS indpedpendant. 6) The {\ttfamily save\+\_\+check} function is called at the end of every save operation. The {\ttfamily save\+\_\+check} function is more detailed explained on its own page, however its basic working is as follows\+: It marks every item in the {\ttfamily tracked\+\_\+files} tracker as saved and updates the visual display of the UI to relfect those changes. Once the changes have been identified, it calls upon the HTML Generator functions to generate the HTML Report for the saved documents.

This group contains the top level functions that save experiments to JSON and are triggered by clicking the Save button on the top of the screen. Here is the list of functions currently in this group\+:
\begin{DoxyItemize}
\item {\ttfamily spc}\+: Specific Gravity. This function calls 4 minor sub functions that facilitate the save operation
\item {\ttfamily fei}\+: Flakiness and Elongation Indices. This function calls the 2 subfunctions that facilitate the save operation
\item {\ttfamily aiv}\+: Aggregate Impact Value. This function calls the subfunctions that facilitate the save operation
\item {\ttfamily ind}\+: Individual Gradation. This function calls the subfunctions that facilitate the save operation. Then it updates and saves the graph of Individual Gradation
\item {\ttfamily mdd}\+: Saves the values of MDD by loading them into a data structure then sorting the data structure into a JSON file. From this point onwards we started relying less on subfunctions and more on manual saving inside the top level function itself because of modularity and reusability of code, also to shorten developer times. The following save operators all use the same logic and thus will not be elaborated.
\item {\ttfamily grad}\+: DBM Gradation
\item {\ttfamily tensile}\+: Tensile Strength Ratio
\item {\ttfamily marshall}\+: Marshall Test
\item {\ttfamily vol}\+: Volumetric Analysis
\item {\ttfamily gmm}\+: Maximum Gravity of Paving Mixture
\item {\ttfamily rheology}\+: This is not a major experiment. In the spreadsheet shared by Ehtesham there were many minor single calculation worth experiments which could be condensed into a single bracket. So I have made a class {\ttfamily rheology} to store all the small scale experiments relating to the physical and chemical characteristics of bitumen.
\item {\ttfamily wa}\+: Water Adsorption 
\end{DoxyItemize}

\doxysubsection{Private Slots}
\Hypertarget{group___save_functions_ga2c0b4749e87a080a5bb6026dd23a102f}\label{group___save_functions_ga2c0b4749e87a080a5bb6026dd23a102f} 
\index{Save to JSON functions@{Save to JSON functions}!on\_actionSave\_Project\_triggered@{on\_actionSave\_Project\_triggered}}
\index{on\_actionSave\_Project\_triggered@{on\_actionSave\_Project\_triggered}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_actionSave\_Project\_triggered}{on\_actionSave\_Project\_triggered}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+action\+Save\+\_\+\+Project\+\_\+triggered (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Handles the "{}\+Save Project"{} action. 

This function is triggered when the "{}\+Save Project"{} action is activated. It iterates over all experiment types and simulates a click on the save button for each experiment.

For each experiment type, it simulates a click on their save button, triggering the save operation for that experiment. If the button is not found, it logs an error message. Please note the internal workings of the save buttons are not uniform as they were made by different developers in different phases of understanding of programming. \Hypertarget{group___save_functions_ga9a478e88fe9b220c31f6b7f4f822245f}\label{group___save_functions_ga9a478e88fe9b220c31f6b7f4f822245f} 
\index{Save to JSON functions@{Save to JSON functions}!on\_gmm\_save\_clicked@{on\_gmm\_save\_clicked}}
\index{on\_gmm\_save\_clicked@{on\_gmm\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_gmm\_save\_clicked}{on\_gmm\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+gmm\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Saves data related to Gyratory Marshall Mix tests into a JSON file. 

This function saves experiment data related to Gyratory Marshall Mix (GMM) tests into a JSON file. It retrieves data from various QLine\+Edit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of three levels representing different Bitumen content percentages (4.\+00\%, 4.\+25\%, and 4.\+50\%).

The JSON file structure\+:
\begin{DoxyItemize}
\item For each Bitumen content percentage, there are 5 experiments. Each bitumen content percentage is stored in a top level JSON object corresponding to the percentage of Bitumen \{\textquotesingle{}4.\+00\textquotesingle{}, \textquotesingle{}4.\+25\textquotesingle{}, \textquotesingle{}4.\+50\textquotesingle{}\} etc.
\item Inside each experiment, 2 samples are taken
\begin{DoxyItemize}
\item Each experiment contains the following variables\+:
\begin{DoxyItemize}
\item {\ttfamily gmm\+\_\+\texorpdfstring{$<$}{<}j\texorpdfstring{$>$}{>}\+\_\+\texorpdfstring{$<$}{<}k\texorpdfstring{$>$}{>}} stores the experiment data, where {\ttfamily \texorpdfstring{$<$}{<}j\texorpdfstring{$>$}{>}} represents the sample number per Bitumen content percentage and {\ttfamily \texorpdfstring{$<$}{<}k\texorpdfstring{$>$}{>}} represents the experiment index.
\item {\ttfamily avg} stores the average value of {\ttfamily gmm\+\_\+5\+\_\+1} and {\ttfamily gmm\+\_\+5\+\_\+2}
\end{DoxyItemize}
\item The {\ttfamily \texorpdfstring{$<$}{<}j\texorpdfstring{$>$}{>}} index varies from 1 to 5, representing the five different experimentally obtained values
\item The {\ttfamily \texorpdfstring{$<$}{<}k\texorpdfstring{$>$}{>}} index varies from 1 to 2, representing the two samples of each experimentally obtained value
\end{DoxyItemize}
\end{DoxyItemize}

Data Retrieval and Processing\+:
\begin{DoxyItemize}
\item QLine\+Edit objects containing experiment data are retrieved from the UI.
\item Data is processed and structured into appropriate JSON objects.
\item Calculations are performed to calculate the average value for each Bitumen content percentage.
\item Error handling is implemented for missing QLine\+Edit objects.
\end{DoxyItemize}

Saving to JSON\+:
\begin{DoxyItemize}
\item The constructed JSON objects are written to a JSON file named "{}gmm.\+json"{} in the "{}json"{} directory.
\item The JSON file is formatted using QText\+Stream and QJson\+Document.
\item Error handling is implemented for file opening failures.
\end{DoxyItemize}

External Functions\+:
\begin{DoxyItemize}
\item \doxylink{mainwindow_8cpp_ae80b5647a938df7b20eab36fff293d39}{remove\+Duplicates()}\+: Removes duplicate entries from a QString\+List.
\item \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()}\+: Performs checks and actions related to saving operations.
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
\doxylink{mainwindow_8cpp_ae80b5647a938df7b20eab36fff293d39}{remove\+Duplicates()}, \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()} 
\end{DoxySeeAlso}
\Hypertarget{group___save_functions_ga09f58e87586ddd92584ac8bb3811d2ba}\label{group___save_functions_ga09f58e87586ddd92584ac8bb3811d2ba} 
\index{Save to JSON functions@{Save to JSON functions}!on\_grad\_save\_clicked@{on\_grad\_save\_clicked}}
\index{on\_grad\_save\_clicked@{on\_grad\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_grad\_save\_clicked}{on\_grad\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+grad\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Handles the \textquotesingle{}Save\textquotesingle{} button click event in the \doxylink{class_main_window}{Main\+Window} for the gradation experiment. 

This function is triggered when the \textquotesingle{}Save\textquotesingle{} button is clicked in the \doxylink{class_main_window}{Main\+Window} for the gradation experiment. It performs several operations to save the data related to the \textquotesingle{}grad\textquotesingle{} experiment into a JSON file.

1) It adds "{}grad"{} to the {\ttfamily tracked\+\_\+files} vector and removes any duplicates.

2) It calls the {\ttfamily update\+Graph\+\_\+grad()} function to update the gradation graph.

3) It creates a QJson\+Object {\ttfamily grad\+\_\+json} to store the gradation data.

4) It loops over different types of experiments (21mm, 16mm, 4mm), and for each experiment, it loops over different sieve values and samples of a sieve value. For each sample, it reads the value from the corresponding QLine\+Edit, calculates the average and the proportion of the average for the final mix, and stores them in {\ttfamily grad\+\_\+json}.

5) It calculates the weighted average of the sample averages across different experiments to blend them and stores them in {\ttfamily grad\+\_\+json}.

6) It saves the sieve sizes in {\ttfamily grad\+\_\+json}.

7) It opens the {\ttfamily grad.\+json} file in the {\ttfamily json} directory and writes the {\ttfamily grad\+\_\+json} QJson\+Object into it in JSON format.

8) If the file cannot be opened, it shows a message box with an error message.

9) Finally, it calls the {\ttfamily \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()}} function and toggles the {\ttfamily TFF} flag.

The structure of the saved JSON file is as follows\+:
\begin{DoxyItemize}
\item For each type of experiment (25-\/16mm, 16-\/4.\+75mm, below\+\_\+4.\+75mm), it contains\+:
\begin{DoxyItemize}
\item {\ttfamily proportion}\+: The proportion of this experiment in the dbm mixture
\item For each sieve value (from 1 to 8), it contains\+:
\begin{DoxyItemize}
\item {\ttfamily grad\+\_\+pij\+\_\+k}\+: The sample data
\item {\ttfamily avg\+\_\+j}\+: The average of the sample data
\item {\ttfamily prop\+\_\+avg\+\_\+j}\+: The proportion of the average for the final mix
\end{DoxyItemize}
\item Here is the explanation of i, j and k\+:
\begin{DoxyItemize}
\item {\ttfamily i} here refers to size of the gradation dust. It is 1 for 25mm, 2 for 16mm, 3 for 4.\+75mm etc.
\item {\ttfamily j} here refers to the seive size. It varies from 1 -\/ 8 as the seive size decreases exponentially.
\item {\ttfamily k} here refers to the individual sample. 5 samples contribute to the average value {\ttfamily avg\+\_\+j}, so the {\ttfamily k} variable varies from 1 -\/ 5
\end{DoxyItemize}
\end{DoxyItemize}
\item {\ttfamily blending}\+: The weighted average of the sample averages across different experiments. Contains {\ttfamily bld\+\_\+j} keys varying from 1 -\/ 8 with the blended values of each seive width.
\item {\ttfamily seive\+\_\+sizes}\+: The sieve sizes. {\ttfamily is\+\_\+seive\+\_\+j} varying from 1 -\/ 8. 
\end{DoxyItemize}\Hypertarget{group___save_functions_ga782f40a0ce942404858cd5106821da09}\label{group___save_functions_ga782f40a0ce942404858cd5106821da09} 
\index{Save to JSON functions@{Save to JSON functions}!on\_marshall\_save\_clicked@{on\_marshall\_save\_clicked}}
\index{on\_marshall\_save\_clicked@{on\_marshall\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_marshall\_save\_clicked}{on\_marshall\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+marshall\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Saves data related to Marshall experiments into a JSON file. 

This function saves experiment data related to Marshall tests into a JSON file. It retrieves data from various QLine\+Edit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of five levels (level\+\_\+1 to level\+\_\+5), each containing experiment data for a specific set of tests.

The JSON file structure\+:
\begin{DoxyItemize}
\item \textquotesingle{}level\+\_\+1\textquotesingle{} to \textquotesingle{}level\+\_\+5\textquotesingle{}\+: These are the top level JSON Objects. The Marshall Test is iterated 5 times with different Bitumen content age, the 5 levels manifest that
\item Inside each level, there are many variables\+:
\begin{DoxyItemize}
\item {\ttfamily marshall\+\_\+i\+\_\+00} stores the level of Bitumen content age of the test
\item The user input values are saved in the format {\ttfamily marshall\+\_\+i\+\_\+jk}
\item The calculated values are saved in the format {\ttfamily marshall\+\_\+\texorpdfstring{$<$}{<}exp\+\_\+name\texorpdfstring{$>$}{>}\+\_\+i\+\_\+j}
\item {\ttfamily avg\+\_\+flow}, {\ttfamily avg\+\_\+gmb}, {\ttfamily avg\+\_\+stability} list out the averages of the specified attribute across the 3 samples per level
\item {\ttfamily i}, {\ttfamily j}, {\ttfamily k}, $<$exp\+\_\+name$>$ in the preceeding variable names mean the following thing\+:
\begin{DoxyItemize}
\item {\ttfamily i}\+: The index of level of Bitumen content age. Varies from 1 to 5, it is the same as the top level \textquotesingle{}level\+\_\+i\textquotesingle{} (so only one i per top level object)
\item {\ttfamily j}\+: The index of the sample per level. In each level, 3 sample experiments are done and the results are averaged out among them to get the final value of an attribute of a level. Varies from 1 to 3
\item {\ttfamily k}\+: The index of the experiment itself (for user input attributes only) \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ k   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name of Attribute    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ k   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name of Attribute    }\\\cline{1-2}
\endhead
1   &Weight in Air    \\\cline{1-2}
2   &SSD Weight in Water    \\\cline{1-2}
3   &Bulk Density (it is also reffered to as GMB in parts of the code and documentation)    \\\cline{1-2}
4   &Reading    \\\cline{1-2}
5   &Volume Correction Factor    \\\cline{1-2}
6   &Flow Rate   \\\cline{1-2}
\end{longtabu}

\item $<$exp\+\_\+name$>$\+: One of {\ttfamily vol}, {\ttfamily wt\+\_\+water}, {\ttfamily load}, {\ttfamily corrected\+\_\+load}. These names are pretty self explanatory.
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

Data Retrieval and Processing\+:
\begin{DoxyItemize}
\item QLine\+Edit objects containing experiment data are retrieved from the UI.
\item Data is processed and structured into appropriate JSON objects.
\item Calculations are performed, including averaging and stability calculations.
\item Error handling is implemented for missing QLine\+Edit objects.
\end{DoxyItemize}

Saving to JSON\+:
\begin{DoxyItemize}
\item The constructed JSON objects are written to a JSON file named "{}marshall.\+json"{} in the "{}json"{} directory.
\item The JSON file is formatted using QText\+Stream and QJson\+Document.
\item Error handling is implemented for file opening failures.
\end{DoxyItemize}

External Functions\+:
\begin{DoxyItemize}
\item update\+Graph\+\_\+dbm()\+: Updates the graph in the UI with the latest data.
\item \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()}\+: Performs checks and actions related to saving operations.
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
update\+Graph\+\_\+dbm(), \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()} 
\end{DoxySeeAlso}
\Hypertarget{group___save_functions_ga1f80b73959e6e91e0c53b4565d44875a}\label{group___save_functions_ga1f80b73959e6e91e0c53b4565d44875a} 
\index{Save to JSON functions@{Save to JSON functions}!on\_mdd\_save\_clicked@{on\_mdd\_save\_clicked}}
\index{on\_mdd\_save\_clicked@{on\_mdd\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_mdd\_save\_clicked}{on\_mdd\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+mdd\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Handles the \textquotesingle{}Save\textquotesingle{} button click event for the MDD experiment. 

This function is triggered when the \textquotesingle{}Save\textquotesingle{} button is clicked in the MDD experiment window. It performs several operations to save the data related to the \textquotesingle{}mdd\textquotesingle{} experiment into a JSON file.

1) It adds "{}mdd"{} to the {\ttfamily tracked\+\_\+files} vector and removes any duplicates.

2) It reads the text from various UI elements, converts them to float, and stores them in a 2D array {\ttfamily mdd\+\_\+ds}.

3) It calculates the wet density, weight of water, weight of dry sample, water content, and dry density for each set of data and stores them in a QJson\+Object {\ttfamily mdd}.

4) It opens the {\ttfamily mdd.\+json} file in the {\ttfamily json} directory and writes the {\ttfamily mdd} QJson\+Object into it in JSON format.

5) If the file cannot be opened, it logs a debug message.

6) Finally, it calls the {\ttfamily \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()}} function.

The structure of the saved JSON file is as follows\+:
\begin{DoxyItemize}
\item For each set of data (from 0 to 4), it contains\+:
\begin{DoxyItemize}
\item {\ttfamily wsm\#}\+: Weight of soil mass
\item {\ttfamily ws\#}\+: Weight of soil
\item {\ttfamily tray\#}\+: Weight of tray
\item {\ttfamily wt\+\_\+tray\#}\+: Weight of wet tray
\item {\ttfamily wst\#}\+: Weight of soil tray
\item {\ttfamily wdst\#}\+: Weight of dry soil tray
\item {\ttfamily wds\#}\+: Wet density of soil
\item {\ttfamily ww\#}\+: Weight of water
\item {\ttfamily wdsm\#}\+: Weight of dry soil mass
\item {\ttfamily water\+\_\+content\#}\+: Water content
\item {\ttfamily density\#}\+: Dry density
\end{DoxyItemize}
\item It also contains {\ttfamily mass} and {\ttfamily vol} which represent the mass and volume respectively.
\end{DoxyItemize}

\begin{DoxyNote}{Note}
The \textquotesingle{}\#\textquotesingle{} in the keys represents the index of the set of data (from 0 to 4). 
\end{DoxyNote}
\Hypertarget{group___save_functions_ga86aa219024b35be8edae717dd25fc18b}\label{group___save_functions_ga86aa219024b35be8edae717dd25fc18b} 
\index{Save to JSON functions@{Save to JSON functions}!on\_rheology\_save\_clicked@{on\_rheology\_save\_clicked}}
\index{on\_rheology\_save\_clicked@{on\_rheology\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_rheology\_save\_clicked}{on\_rheology\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+rheology\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



This function is triggered when the \textquotesingle{}Save\textquotesingle{} button in the Rheology tab is clicked. 

It saves the current state of the Rheology tab into a JSON file. The function iterates over different experiment names and for each experiment, it retrieves the corresponding values from the UI, checks their validity, and stores them into a JSON object. The JSON object is then saved into a file named "{}rheology.\+json"{} in the "{}json"{} directory.

\begin{DoxyNote}{Note}
The function uses several helper functions ({\ttfamily strip\+\_\+eval}, {\ttfamily soft\+\_\+eval}, {\ttfamily pen\+\_\+eval}, {\ttfamily ductility\+\_\+eval}, {\ttfamily flash\+\_\+eval}, {\ttfamily viscosity\+\_\+eval}, {\ttfamily spc\+\_\+eval}) to evaluate the JSON object for each experiment. 
\end{DoxyNote}
\Hypertarget{group___save_functions_gab2d4e56a9926957a345f837e41aaf91d}\label{group___save_functions_gab2d4e56a9926957a345f837e41aaf91d} 
\index{Save to JSON functions@{Save to JSON functions}!on\_tensile\_save\_clicked@{on\_tensile\_save\_clicked}}
\index{on\_tensile\_save\_clicked@{on\_tensile\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_tensile\_save\_clicked}{on\_tensile\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+tensile\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Handles the \textquotesingle{}Save\textquotesingle{} button click event in the \doxylink{class_main_window}{Main\+Window} for the tensile experiment. 

This function is triggered when the \textquotesingle{}Save\textquotesingle{} button is clicked in the \doxylink{class_main_window}{Main\+Window} for the tensile experiment. It performs several operations to save the data related to the \textquotesingle{}tensile\textquotesingle{} experiment into a JSON file.

1) It adds "{}tensile"{} to the {\ttfamily tracked\+\_\+files} vector and removes any duplicates.

2) It creates QJson\+Objects {\ttfamily tensile\+\_\+json}, {\ttfamily min\+\_\+30}, and {\ttfamily hr\+\_\+24} to store the tensile data.

3) It reads the values from various UI elements and stores them in {\ttfamily min\+\_\+30} and {\ttfamily hr\+\_\+24}.

4) It loops over different types of experiments and for each experiment, it reads the value from the corresponding QLine\+Edit and stores it in {\ttfamily min\+\_\+30} or {\ttfamily hr\+\_\+24}.

5) It calculates the volume, weight in air, load, corrected load, and averages for each experiment and stores them in {\ttfamily min\+\_\+30} or {\ttfamily hr\+\_\+24}.

6) It calculates the water sensitivity and stores it in {\ttfamily tensile\+\_\+json}.

7) It adds {\ttfamily min\+\_\+30}, {\ttfamily hr\+\_\+24}, and the ring value to {\ttfamily tensile\+\_\+json}.

8) It opens the {\ttfamily tensile.\+json} file in the {\ttfamily json} directory and writes the {\ttfamily tensile\+\_\+json} QJson\+Object into it in JSON format.

9) If the file cannot be opened, it logs a debug message.

10) Finally, it calls the {\ttfamily \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()}} function.

The structure of the saved JSON file is as follows\+:
\begin{DoxyItemize}
\item {\ttfamily 30mins} and {\ttfamily 24hrs}\+: These are QJson\+Objects that contain the tensile data for the 30 minutes and 24 hours experiments respectively. For each experiment, they contain\+:
\begin{DoxyItemize}
\item {\ttfamily tensile\+\_\+btmn}\+: The bottom value
\item {\ttfamily tensile\+\_\+wt\+\_\+i\+\_\+j}, {\ttfamily tensile\+\_\+ssd\+\_\+i\+\_\+j}, {\ttfamily tensile\+\_\+gmb\+\_\+i\+\_\+j}, {\ttfamily tensile\+\_\+read\+\_\+i\+\_\+j}, {\ttfamily tensile\+\_\+corr\+\_\+i\+\_\+j}, {\ttfamily tensile\+\_\+flow\+\_\+i\+\_\+j}\+: The sample data
\item {\ttfamily tensile\+\_\+wt\+\_\+i\+\_\+j\+\_\+vol}\+: The volume
\item {\ttfamily tensile\+\_\+ssd\+\_\+wt\+\_\+diff\+\_\+i\+\_\+j}\+: The weight in air
\item {\ttfamily tensile\+\_\+read\+\_\+i\+\_\+j\+\_\+load}\+: The load
\item {\ttfamily tensile\+\_\+corrected\+\_\+load\+\_\+i\+\_\+j}\+: The corrected load
\item {\ttfamily avg\+\_\+gmb}, {\ttfamily avg\+\_\+corrected\+\_\+load}, {\ttfamily avg\+\_\+flow}\+: The averages Here is what {\ttfamily i} and {\ttfamily j} mean\+:
\item {\ttfamily i} refers to the experiment Time Period, it is 1 for 30 Minute experiment and 2 for 24 Hour experiment
\item {\ttfamily j} refers to the sample number. It varies from 1 to 3.
\end{DoxyItemize}
\item {\ttfamily ring}\+: The ring value
\item {\ttfamily water\+\_\+sensitivity}\+: The water sensitivity
\end{DoxyItemize}

\begin{DoxyNote}{Note}
Please refer to the excel sheet provided by Ehtesham for more reference behind the meaning of these variables. 
\end{DoxyNote}
\Hypertarget{group___save_functions_ga4a258989e359cf14177176af1f5c3f2d}\label{group___save_functions_ga4a258989e359cf14177176af1f5c3f2d} 
\index{Save to JSON functions@{Save to JSON functions}!on\_vol\_save\_clicked@{on\_vol\_save\_clicked}}
\index{on\_vol\_save\_clicked@{on\_vol\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_vol\_save\_clicked}{on\_vol\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+vol\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Saves data related to Volumetric Analysis experiments into a JSON file. 

This function saves experiment data related to Volumetric Analysis tests into a JSON file. It retrieves data from various QLine\+Edit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of two main sections\+: \textquotesingle{}spg\textquotesingle{} and \textquotesingle{}composition\textquotesingle{}.

The JSON file structure\+:
\begin{DoxyItemize}
\item \textquotesingle{}spg\textquotesingle{}\+: This section contains specific gravity data. It includes\+:
\begin{DoxyItemize}
\item {\ttfamily vol\+\_\+apparent\+\_\+\#}, {\ttfamily vol\+\_\+bulk\+\_\+\#}, {\ttfamily vol\+\_\+total\+\_\+\#}, {\ttfamily vol\+\_\+btmn\+\_\+\#}\+: The sample data
\item {\ttfamily vol\+\_\+eff\+\_\+\#}\+: The effective volume
\end{DoxyItemize}
\item \textquotesingle{}composition\textquotesingle{}\+: This section contains the composition data. It includes\+:
\begin{DoxyItemize}
\item {\ttfamily vol\+\_\+p\#\+\_\+\#}, {\ttfamily vol\+\_\+pb\+\_\+\#}, {\ttfamily vol\+\_\+gsb\+\_\+\#}, {\ttfamily vol\+\_\+gmm\+\_\+\#}, {\ttfamily vol\+\_\+gmb\+\_\+\#}\+: The sample data
\item {\ttfamily vol\+\_\+ps\+\_\+\#}, {\ttfamily vol\+\_\+vma\+\_\+\#}, {\ttfamily vol\+\_\+va\+\_\+\#}, {\ttfamily vol\+\_\+vfb\+\_\+\#}\+: The calculated values
\end{DoxyItemize}
\end{DoxyItemize}

In the above keys\+:
\begin{DoxyItemize}
\item {\ttfamily \#} represents the index of the experiment or the sample. It varies from 1 -\/ 5. It is also stand to \textquotesingle{}obc\textquotesingle{} for values in the Optimum Binder Concentration.
\end{DoxyItemize}

Data Retrieval and Processing\+:
\begin{DoxyItemize}
\item QLine\+Edit objects containing experiment data are retrieved from the UI.
\item Data is processed and structured into appropriate JSON objects.
\item Calculations are performed, including averaging and stability calculations.
\item Error handling is implemented for missing QLine\+Edit objects.
\end{DoxyItemize}

Saving to JSON\+:
\begin{DoxyItemize}
\item The constructed JSON objects are written to a JSON file named "{}vol.\+json"{} in the "{}json"{} directory.
\item The JSON file is formatted using QText\+Stream and QJson\+Document.
\item Error handling is implemented for file opening failures.
\end{DoxyItemize}

External Functions\+:
\begin{DoxyItemize}
\item update\+Graph\+\_\+dbm()\+: Updates the graph in the UI with the latest data.
\item \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()}\+: Performs checks and actions related to saving operations.
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
update\+Graph\+\_\+dbm(), \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()} 
\end{DoxySeeAlso}
\Hypertarget{group___save_functions_ga0e4f163ea50417ef6704f568d1967e62}\label{group___save_functions_ga0e4f163ea50417ef6704f568d1967e62} 
\index{Save to JSON functions@{Save to JSON functions}!on\_wa\_save\_clicked@{on\_wa\_save\_clicked}}
\index{on\_wa\_save\_clicked@{on\_wa\_save\_clicked}!Save to JSON functions@{Save to JSON functions}}
\doxysubsubsection{\texorpdfstring{on\_wa\_save\_clicked}{on\_wa\_save\_clicked}}
{\footnotesize\ttfamily void Main\+Window\+::on\+\_\+wa\+\_\+save\+\_\+clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Saves data related to Water Absorption into a JSON file. 

This function saves experiment data related to water absorption tests into a JSON file. It retrieves data from various QLine\+Edit objects in the UI, performs calculations, and structures the data into a JSON format. The JSON file structure consists of four sections representing different aspects of water absorption tests\+: 10-\/minute water absorption, 20-\/minute water absorption, dust absorption, and cleanliness.

Data Retrieval and Processing\+:
\begin{DoxyItemize}
\item Experiment data is retrieved from the UI based on specified naming conventions.
\item Calculations are performed to derive additional parameters based on the collected data.
\item The retrieved and calculated data is structured into JSON objects for each aspect of the water absorption tests.
\end{DoxyItemize}

JSON Object Structure\+:
\begin{DoxyItemize}
\item TODO
\end{DoxyItemize}

External Functions\+:
\begin{DoxyItemize}
\item \doxylink{mainwindow_8cpp_ae80b5647a938df7b20eab36fff293d39}{remove\+Duplicates()}\+: Removes duplicate entries from a QString\+List.
\item \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()}\+: Performs checks and actions related to saving operations.
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
\doxylink{mainwindow_8cpp_ae80b5647a938df7b20eab36fff293d39}{remove\+Duplicates()}, \doxylink{group___misc_funcs_ga741bd3faf7631fbd0219896c2c7a5252}{save\+\_\+check()} 
\end{DoxySeeAlso}
